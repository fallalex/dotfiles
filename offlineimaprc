[general]
ui = ttyui
accounts = gmail, fallalex, msu
fsync = False
pythonfile = ~/.offlineimap/offlineimap.py

[Account fallalex]
localrepository = fallalex-Local
remoterepository = fallalex-Remote
presynchook = $HOME/.mutt/notmuch-prehook.sh fallalex
postsynchook = $HOME/.mutt/notmuch-posthook.sh fallalex *@fallalex.com

[Repository fallalex-Local]
type = Maildir
localfolders = ~/.mail/fallalex

[Repository fallalex-Remote]
type = IMAP
remotehost = mail.privateemail.com
remoteuser = alex@fallalex.com
remotepasseval = get_pass('alex_fallalex.com')
realdelete = yes
ssl_version = tls1_2
sslcacertfile = OS-DEFAULT
maxconnections = 1

[Account msu]
localrepository = msu-Local
remoterepository = msu-Remote
presynchook = $HOME/.mutt/notmuch-prehook.sh msu
postsynchook = $HOME/.mutt/notmuch-posthook.sh msu fallalex@msu.edu

[Repository msu-Local]
type = Maildir
localfolders = ~/.mail/msu

[Repository msu-Remote]
type = IMAP
remotehost = outlook.office365.com
remoteuser = fallalex@msu.edu
remotepasseval = get_pass('msu')
realdelete = yes
ssl_version = tls1_2
sslcacertfile = OS-DEFAULT
maxconnections = 1

[Account gmail]
localrepository = gmail-Local
remoterepository = gmail-Remote
presynchook = $HOME/.mutt/notmuch-prehook.sh gmail
postsynchook = $HOME/.mutt/notmuch-posthook.sh gmail 4alexfall@gmail.com

[Repository gmail-Local]
type = Maildir
localfolders = ~/.mail/gmail
nametrans = lambda folder: {'drafts':  '[Gmail]/Drafts',
                            'sent':    '[Gmail]/Sent Mail',
                            'archive': '[Gmail]/All Mail',
                            'spam':    '[Gmail]/Spam',
                            'trash':   '[Gmail]/Trash',
                            }.get(folder, folder)

[Repository gmail-Remote]
type = Gmail
remoteuser = 4alexfall@gmail.com
remotepasseval = get_pass('app_pass')
realdelete = yes
ssl_version = tls1_2
sslcacertfile = OS-DEFAULT
maxconnections = 1
folderfilter = lambda folder: folder in ['[Gmail]/Drafts', '[Gmail]/Sent Mail', '[Gmail]/All Mail', '[Gmail]/Spam', '[Gmail]/Trash']
nametrans = lambda folder: {'[Gmail]/Drafts':    'drafts',
                            '[Gmail]/Sent Mail': 'sent',
                            '[Gmail]/All Mail':  'archive',
                            '[Gmail]/Spam':      'spam',
                            '[Gmail]/Trash':     'trash',
                            }.get(folder, folder)
