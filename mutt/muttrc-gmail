source ~/.mutt/muttrc

# Paths ----------------------------------------------
set folder           = ~/.mail/gmail
set alias_file       = ~/.mutt/accounts/gmail/alias
set certificate_file = ~/.mutt/accounts/gmail/certificates
set signature        = ~/.mutt/accounts/gmail/sig
set header_cache     = ~/.mutt/accounts/gmail/cache/header
set message_cachedir = ~/.mutt/accounts/gmail/cache/message

# Account Settings -----------------------------------
set spoolfile = "+archive"
set mbox      = "+archive"
set postponed = "+drafts"
set trash     = "+trash"
mailboxes +drafts \
          +archive \
          +sent \
          +trash \
          +spam

set from = "4alexfall@gmail.com"
set smtp_url = "smtp://4alexfall@gmail.com@smtp.gmail.com:587"
set smtp_pass = `~/.offlineimap/offlineimap.py app_pass`
set smtp_authenticators = "gssapi:login"

# messages sent will be added to the sent folder by Google
unset record
unset copy

macro index,pager O "<shell-escape>offlineimap -a gmail<enter>" "run offlineimap for account"
macro index,pager d "<delete-message><sync-mailbox>" "Trash"

#set virtual_spoolfile=yes
set nm_default_uri = "notmuch://$HOME/.mail/gmail"
virtual-mailboxes "inbox" "notmuch://?query=tag:inbox&limit=200"
virtual-mailboxes "sent" "notmuch://?query=tag:sent"
#virtual-mailboxes "deleted" "notmuch://?query=tag:deleted"
